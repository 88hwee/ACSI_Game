<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Treaty of Versailles - Territory Challenge</title>
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: #0a0e27;
    color: #fff;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    overflow-x: hidden;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
        radial-gradient(circle at 20% 50%, rgba(120, 119, 198, 0.15), transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(72, 191, 227, 0.15), transparent 50%),
        radial-gradient(circle at 40% 20%, rgba(255, 107, 107, 0.1), transparent 40%);
    z-index: 0;
    animation: bgShift 20s ease infinite;
}

@keyframes bgShift {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

.app {
    position: relative;
    z-index: 1;
    max-width: 900px;
    width: 100%;
}

.header {
    text-align: center;
    margin-bottom: 40px;
}

.title {
    font-size: 3rem;
    font-weight: 800;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 10px;
    letter-spacing: -1px;
}

.subtitle {
    font-size: 1.1rem;
    color: #8b92b8;
    font-weight: 500;
}

.info-bar {
    display: flex;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.info-card {
    flex: 1;
    min-width: 150px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 20px;
    text-align: center;
    transition: all 0.3s ease;
}

.info-card:hover {
    background: rgba(255, 255, 255, 0.08);
    transform: translateY(-3px);
}

.info-value {
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(135deg, #48bfe3, #667eea);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.info-label {
    font-size: 0.85rem;
    color: #8b92b8;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 5px;
}

.instruction {
    background: rgba(102, 126, 234, 0.1);
    border: 1px solid rgba(102, 126, 234, 0.3);
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 30px;
    font-size: 1rem;
    line-height: 1.6;
    color: #c9d1f0;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
    margin-bottom: 40px;
}

.card {
    position: relative;
    height: 140px;
    cursor: pointer;
    perspective: 1000px;
}

.card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
}

.card.flipped .card-inner {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
    text-align: center;
    font-weight: 600;
    font-size: 1.05rem;
    border: 2px solid rgba(255, 255, 255, 0.1);
    transition: all 0.2s ease;
}

.card-front {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.9), rgba(15, 23, 42, 0.9));
    backdrop-filter: blur(10px);
}

.card-back {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.95), rgba(15, 23, 42, 0.95));
    backdrop-filter: blur(10px);
    transform: rotateY(180deg);
    font-size: 0.9rem;
    line-height: 1.5;
    padding: 15px;
}

.card:not(.checked):hover .card-front {
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
    border-color: rgba(102, 126, 234, 0.6);
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
}

.card.selected:not(.checked) .card-front {
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-color: #667eea;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
}

.card.correct .card-face {
    background: linear-gradient(135deg, #06d6a0, #1b9aaa);
    border-color: #06d6a0;
}

.card.incorrect .card-face {
    background: linear-gradient(135deg, #ef476f, #d62828);
    border-color: #ef476f;
}

.card.missed .card-face {
    background: linear-gradient(135deg, #fca311, #e85d04);
    border-color: #fca311;
}

.controls {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-bottom: 30px;
}

.btn {
    padding: 16px 40px;
    font-size: 1rem;
    font-weight: 700;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
    position: relative;
    overflow: hidden;
}

.btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.5s, height 0.5s;
}

.btn:active::before {
    width: 300px;
    height: 300px;
}

.btn-primary {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: #fff;
    box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
}

.btn-primary:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 40px rgba(102, 126, 234, 0.6);
}

.btn-secondary {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
    border: 2px solid rgba(255, 255, 255, 0.2);
}

.btn-secondary:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-3px);
}

.result {
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    padding: 25px;
    text-align: center;
    font-size: 1.1rem;
    line-height: 1.8;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.4s ease;
}

.result.show {
    opacity: 1;
    transform: translateY(0);
}

.result-excellent {
    border-color: #06d6a0;
    background: rgba(6, 214, 160, 0.1);
}

.result-good {
    border-color: #fca311;
    background: rgba(252, 163, 17, 0.1);
}

.result-poor {
    border-color: #ef476f;
    background: rgba(239, 71, 111, 0.1);
}

@media (max-width: 768px) {
    .title {
        font-size: 2rem;
    }
    
    .grid {
        grid-template-columns: 1fr;
    }
    
    .controls {
        flex-direction: column;
    }
    
    .btn {
        width: 100%;
    }
}
</style>
</head>
<body>
<div class="app">
    <div class="header">
        <h1 class="title">üåç Treaty of Versailles</h1>
        <p class="subtitle">Territory Challenge Game</p>
    </div>
    
    <div class="instruction">
        <strong>üéØ Your Mission:</strong> Select all territories Germany lost after WWI (1919). Some are tricky! Click to select, then hit Check. After checking, click any card to flip and learn the history behind it.
    </div>
    
    <div class="info-bar">
        <div class="info-card">
            <div class="info-value" id="selected">0</div>
            <div class="info-label">Selected</div>
        </div>
        <div class="info-card">
            <div class="info-value">8</div>
            <div class="info-label">Target</div>
        </div>
        <div class="info-card">
            <div class="info-value" id="score">‚Äî</div>
            <div class="info-label">Score</div>
        </div>
    </div>
    
    <div class="grid" id="grid"></div>
    
    <div class="controls">
        <button class="btn btn-primary" id="checkBtn">‚úì Check Answers</button>
        <button class="btn btn-secondary" id="resetBtn">‚Üª Reset</button>
    </div>
    
    <div class="result" id="result"></div>
</div>

<script>
const territories = [
    {name: "Alsace-Lorraine", lost: true, desc: "‚úÖ CORRECT! Returned to France after German control since 1871."},
    {name: "Polish Corridor", lost: true, desc: "‚úÖ CORRECT! Given to Poland for Baltic Sea access, splitting East Prussia from Germany."},
    {name: "Saar Basin", lost: true, desc: "‚úÖ CORRECT! Placed under League of Nations administration for 15 years."},
    {name: "Rhineland", lost: false, desc: "‚ùå NOPE! The Rhineland was demilitarized but stayed German territory."},
    {name: "Danzig (Gda≈Ñsk)", lost: true, desc: "‚úÖ CORRECT! Made a Free City under League of Nations control."},
    {name: "Sudetenland", lost: false, desc: "‚ùå NOPE! This happened later in 1938 when Hitler annexed it‚Äînot part of Versailles."},
    {name: "All Colonies", lost: true, desc: "‚úÖ CORRECT! Germany lost every single overseas colony to Allied powers."},
    {name: "Bavaria", lost: false, desc: "‚ùå NOPE! Bavaria remained part of Germany as a federal state."},
    {name: "Northern Schleswig", lost: true, desc: "‚úÖ CORRECT! Returned to Denmark after a 1920 plebiscite."},
    {name: "Belgium", lost: false, desc: "‚ùå NOPE! Belgium was never German territory to begin with."},
    {name: "Eupen-Malmedy", lost: true, desc: "‚úÖ CORRECT! Small border region transferred to Belgium."},
    {name: "Memel Territory", lost: true, desc: "‚úÖ CORRECT! Handed to Lithuania (though Germany took it back in 1939)."}
];

class Game {
    constructor() {
        this.selected = new Set();
        this.checked = false;
        this.render();
        this.bind();
    }
    
    render() {
        const grid = document.getElementById('grid');
        grid.innerHTML = territories.map((t, i) => `
            <div class="card" data-idx="${i}">
                <div class="card-inner">
                    <div class="card-face card-front">${t.name}</div>
                    <div class="card-face card-back">${t.desc}</div>
                </div>
            </div>
        `).join('');
    }
    
    bind() {
        document.getElementById('grid').addEventListener('click', e => {
            const card = e.target.closest('.card');
            if (!card) return;
            
            const idx = parseInt(card.dataset.idx);
            
            if (this.checked) {
                card.classList.toggle('flipped');
            } else {
                if (this.selected.has(idx)) {
                    this.selected.delete(idx);
                    card.classList.remove('selected');
                } else {
                    this.selected.add(idx);
                    card.classList.add('selected');
                }
                this.updateStats();
            }
        });
        
        document.getElementById('checkBtn').addEventListener('click', () => this.check());
        document.getElementById('resetBtn').addEventListener('click', () => this.reset());
    }
    
    updateStats() {
        document.getElementById('selected').textContent = this.selected.size;
    }
    
    check() {
        if (this.checked) return;
        this.checked = true;
        
        let correct = 0, wrong = 0, missed = 0;
        
        document.querySelectorAll('.card').forEach((card, i) => {
            const selected = this.selected.has(i);
            const shouldSelect = territories[i].lost;
            
            card.classList.remove('selected');
            card.classList.add('checked');
            
            if (selected && shouldSelect) {
                card.classList.add('correct');
                correct++;
            } else if (selected && !shouldSelect) {
                card.classList.add('incorrect');
                wrong++;
            } else if (!selected && shouldSelect) {
                card.classList.add('missed');
                missed++;
            }
        });
        
        const total = territories.filter(t => t.lost).length;
        const pct = Math.round((correct / total) * 100);
        
        document.getElementById('score').textContent = `${pct}%`;
        
        const result = document.getElementById('result');
        result.classList.add('show');
        
        if (pct >= 90) {
            result.className = 'result show result-excellent';
            result.innerHTML = `<strong>üèÜ INCREDIBLE!</strong><br>You got ${correct}/${total} correct! You're a history master!<br><em>Click any card to learn more!</em>`;
        } else if (pct >= 70) {
            result.className = 'result show result-good';
            result.innerHTML = `<strong>üëç NICE WORK!</strong><br>You got ${correct}/${total} correct. ${wrong} wrong, ${missed} missed.<br><em>Click cards to see what you got wrong!</em>`;
        } else {
            result.className = 'result show result-poor';
            result.innerHTML = `<strong>üìö KEEP STUDYING!</strong><br>You got ${correct}/${total} correct. ${wrong} wrong, ${missed} missed.<br><em>Click cards to learn the real answers!</em>`;
        }
    }
    
    reset() {
        this.selected.clear();
        this.checked = false;
        
        document.querySelectorAll('.card').forEach(card => {
            card.className = 'card';
        });
        
        document.getElementById('result').classList.remove('show');
        document.getElementById('score').textContent = '‚Äî';
        this.updateStats();
    }
}

new Game();
</script>
</body>
</html>